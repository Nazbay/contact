{"ast":null,"code":"import { ADD_FAVORITE, FILTER_USERS, GET_ALL_USERS, DELETE_FAVORITE, FILTER_SEARCH, CHANGE_USER } from \"./typs\";\nconst defaultState = {\n  users: [],\n  favorite: [],\n  searchName: \"\"\n};\n\nconst SortAskArray = (x, y, key) => {\n  if (x[key] < y[key]) {\n    return -1;\n  }\n\n  if (x[key] > y[key]) {\n    return 1;\n  }\n\n  return 0;\n};\n\n_c = SortAskArray;\n\nconst SortDescArray = (x, y, key) => {\n  if (x[key] > y[key]) {\n    return -1;\n  }\n\n  if (y[key] > x[key]) {\n    return 1;\n  }\n\n  return 0;\n};\n\n_c2 = SortDescArray;\n\nconst filterUsers = (users, filterName) => {\n  switch (filterName) {\n    case \"filterByAsc\":\n      return users.sort((x, y) => {\n        return SortAskArray(x, y, \"firstName\");\n      });\n\n    case \"filterByDesc\":\n      return users.sort((x, y) => {\n        return SortDescArray(x, y, \"firstName\");\n      });\n\n    default:\n      return users;\n  }\n};\n\nexport const userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_ALL_USERS:\n      action.payload.map(user => {\n        user.complete = false;\n      });\n      return { ...state,\n        users: [...action.payload]\n      };\n\n    case ADD_FAVORITE:\n      const addFavorite = () => {\n        const newUser = Object.defineProperty(action.payload.user, \"complete\", {\n          value: true\n        });\n        const userId = action.payload.user.id;\n        const hasId = state.favorite.find(user => user.id === userId);\n\n        if (hasId === undefined) {\n          return [...state.favorite, newUser];\n        }\n\n        if (hasId !== undefined) {\n          return [...state.favorite];\n        }\n      };\n\n      return { ...state,\n        users: state.users.map(user => {\n          if (user.id === action.payload.id) {\n            return { ...user,\n              complete: true\n            };\n          }\n\n          return user;\n        }),\n        favorite: addFavorite()\n      };\n\n    case DELETE_FAVORITE:\n      return { ...state,\n        users: state.users.map(user => {\n          if (user.id === action.payload) {\n            return { ...user,\n              complete: false\n            };\n          }\n\n          return user;\n        }),\n        favorite: state.favorite.filter(user => user.id !== action.payload)\n      };\n\n    case FILTER_USERS:\n      const copyUsers = state.users.slice();\n      const copyFavorite = state.favorite.slice();\n      return { ...state,\n        users: filterUsers(copyUsers, action.payload.filterName),\n        favorite: filterUsers(copyFavorite, action.payload.filterName)\n      };\n\n    case FILTER_SEARCH:\n      return { ...state,\n        users: state.users,\n        searchName: action.payload\n      };\n\n    case CHANGE_USER:\n      return { ...state,\n        users: state.users.map(user => user.id === action.payload.id ? action.payload.user : user)\n      };\n\n    default:\n      return state;\n  }\n};\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SortAskArray\");\n$RefreshReg$(_c2, \"SortDescArray\");","map":{"version":3,"sources":["/Users/bajelnazarov/Documents/VSCode/projects/example/contact-app/src/redux/userReduser.jsx"],"names":["ADD_FAVORITE","FILTER_USERS","GET_ALL_USERS","DELETE_FAVORITE","FILTER_SEARCH","CHANGE_USER","defaultState","users","favorite","searchName","SortAskArray","x","y","key","SortDescArray","filterUsers","filterName","sort","userReducer","state","action","type","payload","map","user","complete","addFavorite","newUser","Object","defineProperty","value","userId","id","hasId","find","undefined","filter","copyUsers","slice","copyFavorite"],"mappings":"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","sourcesContent":["import { ADD_FAVORITE, FILTER_USERS,GET_ALL_USERS, DELETE_FAVORITE, FILTER_SEARCH, CHANGE_USER  } from \"./typs\";\n\nconst defaultState = {\n  users: [],\n  favorite: [],\n  searchName: \"\",\n};\nconst SortAskArray = (x, y, key) => {\n  if (x[key] < y[key]) {\n    return -1;\n  }\n  if (x[key] > y[key]) {\n    return 1;\n  }\n  return 0;\n};\n\nconst SortDescArray = (x, y, key) => {\n  if (x[key] > y[key]) {\n    return -1;\n  }\n  if (y[key] > x[key]) {\n    return 1;\n  }\n  return 0;\n};\n\nconst filterUsers = (users, filterName) => {\n  switch (filterName) {\n    case \"filterByAsc\":\n      return users.sort((x, y) => {\n        return SortAskArray(x, y, \"firstName\");\n      });\n    case \"filterByDesc\":\n      return users.sort((x, y) => {\n        return SortDescArray(x, y, \"firstName\");\n      });\n    default:\n      return users;\n  }\n};\n\nexport const userReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case GET_ALL_USERS:\n      action.payload.map((user) => {\n        user.complete = false;\n      });\n      return { ...state, users: [...action.payload] };\n    case ADD_FAVORITE:\n      const addFavorite = () => {\n        const newUser = Object.defineProperty(action.payload.user, \"complete\", {\n          value: true,\n        });\n        const userId = action.payload.user.id;\n        const hasId = state.favorite.find((user) => user.id === userId);\n        if (hasId === undefined) {\n          return [...state.favorite, newUser];\n        }\n        if (hasId !== undefined) {\n          return [...state.favorite];\n        }\n      };\n      return {\n        ...state,\n        users: state.users.map((user) => {\n          if (user.id === action.payload.id) {\n            return {\n              ...user,\n              complete: true,\n            };\n          }\n          return user;\n        }),\n        favorite: addFavorite(),\n      };\n    case DELETE_FAVORITE:\n      return {\n        ...state,\n        users: state.users.map((user) => {\n          if (user.id === action.payload) {\n            return {\n              ...user,\n              complete: false,\n            };\n          }\n          return user;\n        }),\n        favorite: state.favorite.filter((user) => user.id !== action.payload),\n      };\n\n    case FILTER_USERS:\n      const copyUsers = state.users.slice();\n      const copyFavorite = state.favorite.slice();\n      return {\n        ...state,\n        users: filterUsers(copyUsers, action.payload.filterName),\n        favorite: filterUsers(copyFavorite, action.payload.filterName),\n      };\n    case FILTER_SEARCH:\n      return {\n        ...state,\n        users: state.users,\n        searchName: action.payload,\n      };\n\n    case CHANGE_USER:\n      return {\n        ...state,\n        users: state.users.map(user=> user.id ===action.payload.id ?  action.payload.user : user)\n      };\n\n    default:\n      return state;\n  }\n};\n\n\n"]},"metadata":{},"sourceType":"module"}